# Deadman's Drop Server Configuration
# Copy this file to .env and fill in the values
#
# REQUIRED variables must be set for the application to start
# OPTIONAL variables have sensible defaults

# ==============================================================================
# SERVER CONFIGURATION
# ==============================================================================

# Port to run the server on (OPTIONAL, default: 3000)
PORT=3000

# Environment mode: "development" or "production" (OPTIONAL, default: development)
# - development: verbose logging, detailed error messages
# - production: minimal logging, generic error messages
NODE_ENV=development

# ==============================================================================
# LOGGING CONFIGURATION (OPTIONAL)
# ==============================================================================

# Log level: trace, debug, info, warn, error, fatal, silent (OPTIONAL)
# Default: "debug" in development, "info" in production
LOG_LEVEL=debug

# Enable pretty-printed logs for development (OPTIONAL)
# Default: true in development, false in production
# Set to "false" for JSON output in development
LOG_PRETTY=true

# Path to log file for persistent logging (OPTIONAL)
# If set, logs are written to both console and file
# File logs are always in JSON format for easy parsing
# Can be absolute path or relative to server directory
# LOG_FILE="./logs/server.log"

# ==============================================================================
# DATABASE CONFIGURATION (REQUIRED)
# ==============================================================================

# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL="postgresql://postgres:password@localhost:5432/deadmans_drop"

# ==============================================================================
# AUTHENTICATION (REQUIRED)
# ==============================================================================

# Secret key for signing JWT tokens
# Generate a secure random string, e.g.: openssl rand -base64 64
# WARNING: Keep this secret! Anyone with this key can forge authentication tokens
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"

# JWT token expiration time (OPTIONAL, default: 7d)
# Examples: "1h", "7d", "30d"
JWT_EXPIRES_IN="7d"

# Bcrypt hash rounds for password hashing (OPTIONAL, default: 12)
# Higher values are more secure but slower
# Minimum: 10, Recommended: 12-14
BCRYPT_ROUNDS=12

# ==============================================================================
# ADMIN SEED SCRIPT (OPTIONAL)
# Used only when running: pnpm seed:admin
# ==============================================================================

# Username for the admin user (OPTIONAL, default: admin)
# ADMIN_USERNAME="admin"

# Password for the admin user (REQUIRED when running seed:admin)
# Must be at least 8 characters long
# WARNING: Use a strong, unique password!
# ADMIN_PASSWORD="your-secure-admin-password"

# ==============================================================================
# FILE STORAGE (OPTIONAL)
# ==============================================================================

# Path where uploaded videos will be stored
# Can be absolute path (e.g., /mnt/nas/deadmans-drop) or relative to server directory
# Default: ./uploads
STORAGE_PATH="./uploads"

# Maximum file size for uploads in megabytes (OPTIONAL, default: 500)
MAX_FILE_SIZE_MB=500

# ==============================================================================
# FIREBASE PUSH NOTIFICATIONS (OPTIONAL)
# Required only if you want to enable push notifications to mobile apps
# ==============================================================================

# Firebase project ID
# FIREBASE_PROJECT_ID="your-firebase-project-id"

# Firebase private key (from service account JSON)
# Note: Replace newlines with \n when setting in environment
# FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"

# Firebase client email (from service account JSON)
# FIREBASE_CLIENT_EMAIL="firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com"
